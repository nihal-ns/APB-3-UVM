# APB-3-UVM
<img width="833" height="492" alt="image(1)" src="https://github.com/user-attachments/assets/2ca9f79f-0040-4e31-8d6f-7723d457207e" />

---

## Testbench Architecture

The testbench architecture follows a standard UVM structure, promoting modularity and reuse. It consists of an active agent for driving transactions, a passive agent for monitoring, and a scoreboard for checking data integrity.

### Key Components
* **`apb_agent`**: Encapsulates the driver, sequencer, and monitor. The environment uses both an active and a passive agent.
* **`apb_sequencer` & `apb_sequence`**: The sequencer controls the flow of `apb_seq_item` transactions, which are generated by various sequences to create interesting stimulus.
* **`apb_driver`**: Drives the sequence items onto the APB interface according to the bus protocol.
* **`apb_monitor`**: Passively monitors the APB interface and broadcasts observed transactions to the scoreboard.
* **`apb_scoreboard`**: Checks for functional correctness by comparing transactions captured by the active and passive monitors.
* **`apb_env`**: The top-level environment that instantiates and connects all the major verification components.
* **`apb_test`**: The base test class from which all specific tests are derived. It configures the environment and selects the primary sequence to run.
* **`apb_coverage`**: Collects **functional coverage** metrics to measure how thoroughly the DUT has been tested.
* **`apb_assertion`**: Contains **SystemVerilog Assertions (SVA)** to perform protocol checks and catch illegal bus behavior.
---

## Directory Structure
```
/
├── Design files/
│   ├── new/
│   │   ├── apbtop.v
│   │   ├── master.v
│   │   ├── slave1.v
│   │   └── slave2.v
│   └── old/
│       ├── apbtop.v
│       ├── master.v
│       ├── slave1.v
│       └── slave2.v
├── Doc/
│   └── Links_for_documents.md
├── src/
│   ├── apb_agent.sv
│   ├── apb_assertion.sv
│   ├── apb_coverage.sv
│   ├── apb_driver.sv
│   ├── apb_env.sv
│   ├── apb_interface.sv
│   ├── apb_monitor.sv
│   ├── apb_pkg.sv
│   ├── apb_scoreboard.sv
│   ├── apb_seq_item.sv
│   ├── apb_sequence.sv
│   ├── apb_sequencer.sv
│   ├── apb_test.sv
│   └── makefile
└── README.md
```
## How to Run Simulation

A `Makefile` is provided to simplify the compilation and simulation process.

### Prerequisites

* A SystemVerilog simulator that supports UVM, such as **QuestaSim**, **Cadence Xcelium**, or **Synopsys VCS**.

### Commands

The following commands can be run from your terminal in the project's **root directory**.

#### UVM Simulation

1.  **Run the default simulation:**
    This compiles and runs the default test (`apb_test`) with normal verbosity.
    ```sh
    make simulate
    ```
    or simply:
    ```sh
    make
    ```

2.  **Run a specific test and change verbosity:**
    You can combine targets to run a specific test with a desired verbosity level (`h` for HIGH, `d` for DEBUG).
    ```sh
    make h test=<test_name>
    ```
    *Example:* `make h test=write_read_test`

#### Functional Coverage

1.  **Generate a Coverage Report:**
    This command compiles for coverage, runs the default test, and generates a detailed HTML report.
    ```sh
    make cov
    ```

2.  **Generate a Coverage Report for a specific test:**
    You can also run the coverage flow on a specific test.
    ```sh
    make cov test=<test_name>
    ```
    After the command finishes, you can find the report in the **`covReport/`** directory.

#### Cleaning Up

1.  **Clean all generated files:**
    This command removes all simulation and coverage files, including the `work` directory, logs, and the coverage report.
    ```sh
    make clean
    ```

